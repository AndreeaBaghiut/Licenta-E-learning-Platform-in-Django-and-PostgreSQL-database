{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit course: {{ course.name }}</title>

    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill-image-resize-module@3.0.0/image-resize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/scrapooo/quill-resize-module@1.0.2/dist/quill-resize-module.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

    <script  src="{% static 'teacherDashboard/js/editCourse.js' %}"></script>
    <script  src="{% static 'teacherDashboard/js/quiz.js' %}"></script>

    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/monokai.min.css">
    
    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>

    <meta name="csrf-token" content="{{ csrf_token }}">
    <link rel="stylesheet" href="{% static 'teacherDashboard/css/edit_course.css' %}">
    <link rel="stylesheet" href="{% static 'teacherDashboard/css/quizz.css' %}">
    
</head>

<body>
    <meta name="csrf-token" content="{{ csrf_token }}">

    <div class="container-fluid">
        <div class="header">
            <img src="{{ course.course_image.url }}" alt="Course Image" class="course-header-img">
            <h4>{{ course.name }}</h4>
            <a class="btn" href="{% url 'teacher_courses' %}">Other courses</a>
            <button class="btn" onclick="publishEdit()">Publish edit</button>
        </div>

        <div class="left" id="chapter-list" data-course-id="{{ course.id }}" data-is-published="{{ is_published|yesno:'true,false' }}">
            <ul class="chapter-list">
                {% for chapter in course.chapters.all %}
                    <div class="chapter-container" data-chapter-id="{{ chapter.id }}">
                        <li class="chapter-item">
                            <strong class="chapter-title">{{ chapter.title }}</strong>
                            <ul class="subchapter-list"> 
                                {% for subchapter in chapter.subchapters.all %}
                                    <li class="subchapter-item" data-subchapter-id="{{ subchapter.id }}">
                                       <span class="subchapter-title">{{ subchapter.title }}</span>
                                       
                                       <ul class="quiz-list">
                                           {% for quiz in subchapter.quizzes.all %}
                                               <li class="quiz-item" data-quiz-id="{{ quiz.id }}">
                                                   <span>{{ quiz.title }}</span>
                                               </li>
                                           {% endfor %}
                                       </ul>
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                    </div>
                {% endfor %}
            </ul>
        </div>

        <div id="middle-section">

        </div>

        <!-- Partea din dreapta -->
        <div class="right">
            <div class="btn-group-vertical">
                <button class="btn" id="add-chapter-btn" onclick="addChapter()">Adaugă capitol</button>
                <button class="btn" id="add-subchapter-btn" onclick="addSubchapter()">Adaugă subcapitol</button>
                <button class="btn" id="add-quiz-btn" onclick="addQuiz()">Adaugă quiz</button>
                
                <div class="oval-border">Editează curs</div>
                
                <div class="dropdown">
                    <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">Text</button>
                    <ul class="dropdown-menu dropdown-scroll" aria-labelledby="dropdownMenuButton">
                        <li><button class="dropdown-item" onclick="textFormat()">Text</button></li>
                        <li><button class="dropdown-item" onclick="header1()">H1</button></li>
                        <li><button class="dropdown-item" onclick="header2()">H2</button></li>
                        <li><button class="dropdown-item" onclick="header3()">H3</button></li>
                        <li><button class="dropdown-item" onclick="bulletList()">Bullet list</button></li>
                        <li><button class="dropdown-item" onclick="numberedList()">Numbered list</button></li>
                        <li><button class="dropdown-item" onclick="codeFormat()">Code</button></li>
                        <li><button class="dropdown-item" onclick="quoteFormat()">Quote</button></li>
                        <li><button class="dropdown-item" onclick="callout()">Callout</button></li>
                    </ul>
                </div>
                
                <button class="btn" onclick="italicText()"><img src="/static/teacherDashboard/images/italic.png" alt="italic" width="15px"></button>
                <button class="btn" onclick="boldText()"><img src="/static/teacherDashboard/images/bold.png" alt="bold" width="15px"></button>
                <button class="btn" onclick="underlineText()"><img src="/static/teacherDashboard/images/underline.png" alt="bold" width="15px"></button>
                <button class="btn" onclick="strikethroughText()"><img src="/static/teacherDashboard/images/strikethrough.png" alt="bold" width="15px"></button>
                <button class="btn" onclick="codeFormat()"><img src="/static/teacherDashboard/images/coding.png" alt="bold" width="15px"></button>

                <input type="file" id="uploadImage" style="display:none;" accept="image/*" onchange="uploadImage(this)">
                <button class="btn" onclick="document.getElementById('uploadImage').click()"><img src="/static/teacherDashboard/images/image.png" alt="upload image" width="15px"/></button>
                <input type="file" id="uploadVideo" style="display:none;" accept="video/*" onchange="uploadVideo(this)">
                <button class="btn" onclick="document.getElementById('uploadVideo').click()">
                <img src="/static/teacherDashboard/images/video.png" alt="upload video" width="15px"/>
                </button>

                <div class="dropdown">
                    <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false"><img src="/static/teacherDashboard/images/color.png" alt="bold" width="15px"></button>
                    <ul class="dropdown-menu dropdown-scroll" aria-labelledby="dropdownMenuButton">
                        <li><h5 class="dropdown-header">Color</h5></li>
                        <li><button class="dropdown-item" onclick="defaultTextColor()">Black (default)</button></li>
                        <li><button class="dropdown-item" onclick="greyColor()">Grey</button></li>
                        <li><button class="dropdown-item" onclick="brownColor()">Brown</button></li>
                        <li><button class="dropdown-item" onclick="orangeColor()">Orange</button></li>
                        <li><button class="dropdown-item" onclick="yellowColor()">Yellow</button></li>
                        <li><button class="dropdown-item" onclick="greenColor()">Green</button></li>
                        <li><button class="dropdown-item" onclick="blueColor()">Blue</button></li>
                        <li><button class="dropdown-item" onclick="purpleColor()">Purple</button></li>
                        <li><button class="dropdown-item" onclick="pinkColor()">Pink</button></li>
                        <li><button class="dropdown-item" onclick="redColor()">Red</button></li>
                        <li><h5 class="dropdown-header">Background color</h5></li>
                        <li><button class="dropdown-item" onclick="defaultBackgroundColor()">White background (default)</button></li>
                        <li><button class="dropdown-item" onclick="greyBackgroundColor()">Grey background</button></li>
                        <li><button class="dropdown-item" onclick="brownBackgroundColor()">Brown background</button></li>
                        <li><button class="dropdown-item" onclick="orangeBackgroundColor()">Orange background</button></li>
                        <li><button class="dropdown-item" onclick="yellowBackgroundColor()">Yellow background</button></li>
                        <li><button class="dropdown-item" onclick="greenBackgroundColor()">Green background</button></li>
                        <li><button class="dropdown-item" onclick="blueBackgroundColor()">Blue background</button></li>
                        <li><button class="dropdown-item" onclick="purpleBackgroundColor()">Purple background</button></li>
                        <li><button class="dropdown-item" onclick="pinkBackgroundColor()">Pink background</button></li>
                        <li><button class="dropdown-item" onclick="redBackgroundColor()">Red background</button></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>